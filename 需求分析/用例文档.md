| 变更人员 | 变更日期 | 变更内容 | 版本号 |
| -------- | ------ | -------- | ------ |
|          |      |          |        |
[toc]
# 1.引言
## 1.1目的
本文档描述了铁路在线订票系统的部分用户需求
## 1.2参考文献
1. 《软件开发的技术基础》
# 2.用例列表
| 参与者 | 用例 |
|-|-|
|客户|1. 个人信息管理<br/>2. 浏览车票详细信息<br/>3. 购买车票|
|铁路管理员|4. 铁路信息管理<br/>5. 车票信息管理|
# 3.用例图
# 4.详细用例描述
## 4.1用例1：个人信息管理
<table>
<tr>
    <td>ID</td>
    <td>1</td>  
</tr>
<tr>
    <td>名称</td>
    <td>个人信息管理</td>
</tr>
<tr>
    <td>参与者</td>
    <td>客户</td>  
</tr>
<tr>
    <td>触发条件</td>
    <td>客户需要修改个人信息</td>
</tr>
<tr>
    <td>前置条件</td>
    <td>用户已经登录成功</td>
</tr>
<tr>
    <td>后置条件</td>
    <td>保存客户个人信息的更新</td>
</tr>
<tr>
    <td>正常流程</td>
    <td>1. 客户请求修改个人信息<br>2. 系统展示用户的个人信息<br>3. 如果客户修改信息，系统暂存更新信息<br>
    4. 客户保存更改，系统将更新信息</td>
</tr>
<tr>
    <td>扩展流程</td>
    <td>2a. 客户输入非法信息<br>&ensp;1.系统提示错误并拒绝输入<br>2b. 客户的个人信息必填项为空<br>&ensp;1.系统提示此项必须填写<br>2c. 客户尝试修改不可修改项<br>&ensp;1. 系统拒绝请求并提示此项不可修改</td>
</tr>
<tr>
    <td>特殊需求</td>
    <td>无</td>
</tr>
</table>

## 4.2用例2：浏览车票详细信息
<table>
<tr>
    <td>ID</td>
    <td>2</td>
</tr>
<tr>
    <td>名称</td>
    <td>浏览车票详细信息</td>
</tr>
<tr>
    <td>参与者</td>
    <td>客户</td>
</tr>
<tr>
    <td>触发条件</td>
    <td>客户请求查询余票</td>
</tr>
<tr>
    <td>前置条件</td>
    <td>无</td>
</tr>
<tr>
    <td>后置条件</td>
    <td>无</td>
</tr>
<tr>
    <td>正常流程</td>
    <td>1. 客户选择出发地和目的地以及出行日期<br>2. 系统展示满足条件的余票列表<br>3. 客户可以单独选定某一张车票,系统展示该车票的细节信息 </td>
</tr>
<tr>
    <td>扩展流程</td>
    <td>3a. 余票已被购买<br>&ensp;1.系统提示该余票已经被购买，请选择其他余票</td>
</tr>
<tr>
    <td>特殊需求</td>
    <td>列表的排序顺序可以选择(按照价格，时间的降序或者升序排列)</td>
</tr>
</table>


## 4.3用例3：购买车票
<table>
<tr>
    <td>ID</td>
    <td>3</td>
</tr>
<tr>
    <td>名称</td>
    <td>购买车票</td>
</tr>
<tr>
    <td>参与者</td>
    <td>客户</td>
</tr>
<tr>
    <td>触发条件</td>
    <td>客户请求购买车票</td>
</tr>
<tr>
    <td>前置条件</td>
    <td>客户已经注册并登录</td>
</tr>
<tr>
    <td>后置条件</td>
    <td>余票更新</td>
</tr>
<tr>
    <td>正常流程</td>
    <td>1. 客户选择一张余票并购买<br>2. 系统计算票额并调用支付接口<br>3. 系统将该余票保留<br>4. 支付完成后，系统生成订单信息<br>5. 系统更新余票并更新客户积分与信用</td>
</tr>
<tr>
    <td>扩展流程</td>
    <td>2a. 客户使用积分<br>&ensp;1. 系统计算积分的折现额度，足够则完成支付；不够则提示信息<br>3a. 客户放弃支付<br>&ensp;1.系统提示支付失败，退出购票流程<br></td>
</tr>
<tr>
    <td>特殊需求</td>
    <td>如果用户的信用过低，系统不提供购票服务<br>如果成功购买，会执行信用累积，提高客户的信用<br>如果检测到用户有恶意订票,执行触发措施</td>
</tr>
</table>


## 4.4用例4：铁路信息管理
<table>
<tr>
    <td>ID</td>
    <td>4</td>
</tr>
<tr>
    <td>名称</td>
    <td>铁路信息管理</td>
</tr>
<tr>
    <td>参与者</td>
    <td>铁路管理员</td>
</tr>
<tr>
    <td>触发条件</td>
    <td>铁路管理员需要管理线路信息</td>
</tr>
<tr>
    <td>前置条件</td>
    <td>铁路管理员已被识别和授权</td>
</tr>
<tr>
    <td>后置条件</td>
    <td>更新相关车票的信息</td>
</tr>
<tr>
    <td>正常流程</td>
    <td>1. 铁路管理员修改某条线路或新增线路<br>2. 系统更新相关车票的信息，比如余票量增减</td>
</tr>
<tr>
    <td>扩展流程</td>
    <td>2a. 铁路管理员输入非法的路线信息<br>&ensp;1. 系统提示错误并拒绝输入</td>
</tr>
<tr>
    <td>特殊需求</td>
    <td>铁路管理员所修改的线路已经有车票出售,系统提示铁路管理员该车票已售出或无法修改。</td>
</tr>
</table>

## 4.5用例5：车票信息管理
<table>
<tr>
    <td>ID</td>
    <td>5</td>
</tr>
<tr>
    <td>名称</td>
    <td>车票信息管理</td>
</tr>
<tr>
    <td>参与者</td>
    <td>铁路管理员</td>
</tr>
<tr>
    <td>触发条件</td>
    <td>铁路管理员更新信息</td>
</tr>
<tr>
    <td>前置条件</td>
    <td>铁路管理员已被识别和授权</td>
</tr>
<tr>
    <td>后置条件</td>
    <td>更新相关车票的信息，并推送已购车票的客户</td>
</tr>
<tr>
    <td>正常流程</td>
    <td>1. 铁路管理员选择某车票<br>2. 铁路管理员修改车票信息<br>3. 系统更新相关车票的信息<br>4. 系统提示已购买该车票的客户</td>
</tr>
<tr>
    <td>扩展流程</td>
    <td>2a. 铁路管理员输入非法的车票信息<br>&ensp;1. 系统提示错误并拒绝输入<br>车票已经售出,出发地和目的地无法修改。
    </td>
</tr>
<tr>
    <td>特殊需求</td>
    <td>改变时间或者取消车票,需要改变用户的订单信息,并且邮箱或者短信通知客户</td>
</tr>
</table>

# 5.需求分析模型
## 5.1概念类图
## 5.2系统顺序图
## 5.3状态图